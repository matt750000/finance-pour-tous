{% extends 'base.html.twig' %}

{% block title %}Mon Panier
{% endblock %}

{% block body %}
	<div class="container py-4">

		<h1 class="mb-4">üõí Mon Panier</h1>

		{% if items is empty %}
			<div class="alert alert-info">
				Votre panier est vide.
				<a href="{{ path('app_products') }}">D√©couvrez nos produits !</a>
			</div>
		{% else %}
			<table class="table table-bordered align-middle">
				<thead class="table-light">
					<tr>
						<th>Produit</th>
						<th>Prix unitaire</th>
						<th>Quantit√©</th>
						<th>Sous-total</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					{% for item in items %}
						<tr>
							<td>{{ item.product.name }}</td>
							<td>{{ item.product.price | number_format(2, ',', ' ') }}
								‚Ç¨</td>
							<td>{{ item.quantity }}</td>
							<td>{{ item.subtotal | number_format(2, ',', ' ') }}
								‚Ç¨</td>
							<td>
								<a href="{{ path('remove_from_cart', { id: item.product.id }) }}" class="btn btn-sm btn-danger">‚úñ</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>
				<tfoot>
					<tr>
						<th colspan="3" class="text-end">Total :</th>
						<th colspan="2">{{ total | number_format(2, ',', ' ') }}
							‚Ç¨</th>
					</tr>
				</tfoot>
			</table>

			<div class="d-flex justify-content-between">
				<a href="{{ path('app_products') }}" class="btn btn-outline-primary">‚Üê Continuer mes achats</a>
				{# Bonus : un bouton "Vider le panier" si tu veux l‚Äôajouter plus tard #}
				<a href="{{ path('app_order') }}">
					<button>Commander</button>
				</a>

			</div>
		{% endif %}

	</div>
{% endblock %}
